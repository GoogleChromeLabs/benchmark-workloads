const fs=require("fs").promises,{dirname:dirname}=require("path");async function deleteFile(e){try{await fs.unlink(e),console.log(`File ${e} has been deleted.`)}catch(e){console.error("No previous file exists, no need to delete!")}}async function copyFile(e,i){await fs.mkdir(dirname(i),{recursive:!0}),await fs.copyFile(e,i)}async function prepare(){const e=process.env.MODULE??"node_modules/workload-testing-utils/dist/",i=process.env.HOST??"public/",o=(process.env.FILES??"workload-testing-utils.min.js").split(",");for(const s of o)await deleteFile(`${i}${s}`),await copyFile(`${e}${s}`,`${i}${s}`);console.log("Done with preparation!")}prepare();