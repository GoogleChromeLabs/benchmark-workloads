window.name = "news-site-next-pages-router"; window.version = "1.0.0"; const appId=window.name&&window.version?`${window.name}-${window.version}`:-1;function sendMessage(e){window.requestAnimationFrame((()=>{setTimeout((()=>{setTimeout((()=>{window.top.postMessage(e,"*")}),0)}),0)}))}window.onmessage=async e=>{if(e.data.id===appId&&"benchmark-connector"===e.data.key)switch(e.data.type){case"benchmark-suite":const{waitBeforeSync:a,measurementMethod:t,warmupBeforeSync:s}=e.data,{result:n}=await window.benchmarkTestManager.getSuiteByName(e.data.name).runAndRecord({waitBeforeSync:a,measurementMethod:t,warmupBeforeSync:s});sendMessage({type:"suite-complete",status:"success",appId:appId,result:n});break;case"benchmark-suite-test":window.benchmarkTestManager.getSuiteByName(e.data.name).getTestByName(e.data.test).run(),sendMessage({type:"test-complete",status:"success",appId:appId});break;case"benchmark-suite-test-async":await window.benchmarkTestManager.getSuiteByName(e.data.name).getTestByName(e.data.test).runAsync(),sendMessage({type:"test-complete",status:"success",appId:appId})}},sendMessage({type:"app-ready",status:"success",appId:appId}),console.log(`Hello, benchmark connector for ${appId} is ready!`);