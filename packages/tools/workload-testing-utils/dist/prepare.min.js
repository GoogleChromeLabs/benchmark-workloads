const fs=require("fs").promises,{dirname:dirname}=require("path");async function deleteFile(e){try{await fs.unlink(e),console.log(`File ${e} has been deleted.`)}catch(e){console.error("No previous file exists, no need to delete!")}}async function copyFile(e,s){await fs.mkdir(dirname(s),{recursive:!0}),await fs.copyFile(e,s)}async function prepare(){const e=process.env.MODULE??"node_modules/workload-testing-utils/dist/",s=process.env.HOST??"public/",i=(process.env.FILES??"workload-testing-utils.min.mjs,test-invoker.mjs,test-runner.mjs").split(",");for(const o of i)await deleteFile(`${s}${o}`),await copyFile(`${e}${o}`,`${s}${o}`);console.log("Done with preparation!")}prepare();